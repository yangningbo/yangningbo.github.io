<!DOCTYPE html>
<html>
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" /> 
	<title>搬砖汇兑计算器</title>
	<script type="text/javascript">
		function onClick() {
			var buying_rate = document.getElementById("buying_rate").value;//C2
			var cash_buying_rate = document.getElementById("cash_buying_rate").value;//C3
			var cost = document.getElementById("cost").value;//C4
			var pass_entry = document.getElementById("pass_entry").value;//C5

			// (C5-100*C4/C3)/(3-C3/C2)
			var income = ((parseFloat(pass_entry)-100*parseFloat(cost)/parseFloat(cash_buying_rate))/(3-parseFloat(cash_buying_rate)/parseFloat(buying_rate))).toFixed(2);

			// 100*C4/C3+C6
			var total = (100*parseFloat(cost)/parseFloat(cash_buying_rate)+parseFloat(income)).toFixed(2);

			document.getElementById("income").value = income;
			document.getElementById("total").value = total;
		}
	</script>
</head>
<body>
	<table>
		<tr>
			<td>汇入价</td>
			<td><input id="buying_rate" type="text" name="buying_rate" value="655.92"></td>
		</tr>
		<tr>
			<td>钞入价</td>
			<td><input id="cash_buying_rate" type="text" name="cash_buying_rate" value="650.53"></td>
		</tr>
		<tr>
			<td>成&emsp;本</td>
			<td><input id="cost" type="text" name="cost" value="67016.5"></td>
		</tr>
		<tr>
			<td>入&emsp;账</td>
			<td><input id="pass_entry" type="text" name="pass_entry" value="12310"></td>
		</tr>
		<tr>
			<td>收&emsp;益</td>
			<td><input id="income" type="text" name="income"></td>
		</tr>
		<tr>
			<td>总&emsp;计</td>
			<td><input id="total" type="text" name="total"></td>
		</tr>
		<tr>
			<td colspan="2"><input type="button" value="计算" onclick="onClick();"></td>
		</tr>
	</table>
</body>
</html>
